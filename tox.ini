[tox]
envlist = py310,lint,coverage
isolated_build = True

[gh-actions]
python =
    3.10: py310

[testenv]
whitelist_externals=
    poetry
commands=
    poetry install -v

[testenv:lint]
commands=
    black --check aiop4/ tests/

[testenv:coverage]
commands=poetry run pytest --cov=aiop4 --cov-fail-under=85 tests/ {posargs}
